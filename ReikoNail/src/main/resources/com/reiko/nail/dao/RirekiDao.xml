<?xml version="1.0" encoding="UTF-8"?>
<!DOCTYPE mapper PUBLIC "-//mybatis.org//DTO Mapper 3.0//EN" "http://mybatis.org/dtd/mybatis-3-mapper.dtd">
<mapper namespace="com.reiko.nail.dao.RirekiDao">
	<resultMap id="BaseMap" type="com.reiko.nail.entity.ShiireRirekiEntity">
		<id column="RIREKI_ID" property="rirekiId" />
		<result column="SHIIRE_ID" property="shiireId" />
		<result column="SHIIRE_DATE" property="shiireDate" />
		<result column="SURYO" property="suryo" />
		<result column="CREATE_DATE" property="createDate" />
	</resultMap>
	
	<insert id="insertShiireRireki">
		INSERT INTO SHIIRE_RIREKI(
			SHIIRE_ID,
			SHIIRE_DATE,
			SURYO,
			CREATE_DATE
		) VALUES (
			#{shiireId},
			#{shiireDate},
			#{suryo},
			CURRENT_TIMESTAMP
		)
	</insert>
	
	<update id="updateRireki">
		UPDATE 
			SHIIRE_RIREKI
		SET
			SHIIRE_DATE = #{shiireDate},
			SURYO = #{suryo},
			CREATE_DATE = CURRENT_TIMESTAMP
		WHERE
			RIREKI_ID = '${rirekiId}'
	</update>
	
	<delete id="deleteRireki">
		DELETE 
		FROM
			SHIIRE_RIREKI
		WHERE
			RIREKI_ID = #{rirekiId}
	</delete>
</mapper>